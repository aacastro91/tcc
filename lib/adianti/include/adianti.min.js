function Adianti(){}function __adianti_goto_page(a){window.location=a}function __adianti_base_url(){return window.location.protocol+"//"+window.location.host+window.location.pathname.split("/").slice(0,-1).join("/")}function __adianti_query_string(){for(var a={},b=window.location.search.substring(1),c=b.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if("undefined"==typeof a[e[0]])a[e[0]]=e[1];else if("string"==typeof a[e[0]]){var f=[a[e[0]],e[1]];a[e[0]]=f}else a[e[0]].push(e[1])}return a}function __adianti_load_html(a,b){$('[widget="TWindow"]').length>0&&a.indexOf("TWindow")>0?($('[widget="TWindow"]').attr("remove","yes"),$("#adianti_online_content").empty(),a=a.replace(new RegExp("__adianti_append_page","g"),"__adianti_append_page2"),$("#adianti_online_content").html(a),$('[widget="TWindow"][remove="yes"]').remove(),$("#adianti_online_content").show()):a.indexOf("TWindow")>0?(a=a.replace(new RegExp("__adianti_append_page","g"),"__adianti_append_page2"),$("#adianti_online_content").html(a)):($('[widget="TWindow"]').remove(),$("#adianti_div_content").html(a)),"function"==typeof b&&b()}function __adianti_load_html2(a){$('[widget="TWindow2"]').length>0?($('[widget="TWindow2"]').attr("remove","yes"),$("#adianti_online_content2").hide(),a=a.replace(new RegExp("__adianti_load_html","g"),"__adianti_load_html2"),a=a.replace(new RegExp("__adianti_post_data","g"),"__adianti_post_data2"),a=a.replace(new RegExp("TWindow","g"),"TWindow2"),a=a.replace(new RegExp('generator="adianti"',"g"),'generator="adianti2"'),$("#adianti_online_content2").html(a),$('[widget="TWindow2"][remove="yes"]').remove(),$("#adianti_online_content2").show()):a.indexOf("TWindow2")>0?$("#adianti_online_content2").html(a):a.indexOf("TWindow")>0?$("#adianti_online_content").html(a):$("#adianti_div_content").html(a)}function __adianti_load_page_no_register(a){$.get(a,function(a){__adianti_load_html(a)})}function __adianti_load_page_no_register2(a){$.get(a,function(a){__adianti_load_html2(a)})}function __adianti_append_page(a){$.get(a,function(a){a=a.replace(new RegExp("__adianti_append_page","g"),"__adianti_append_page2"),$("#adianti_online_content").after("<div></div>").html(a)})}function __adianti_append_page2(a){$.get(a,function(a){a=a.replace(new RegExp("__adianti_load_html","g"),"__adianti_load_html2"),a=a.replace(new RegExp("__adianti_post_data","g"),"__adianti_post_data2"),a=a.replace(new RegExp("TWindow","g"),"TWindow2"),a=a.replace(new RegExp('generator="adianti"',"g"),'generator="adianti2"'),$("#adianti_online_content2").after("<div></div>").html(a)})}function __adianti_load_page(a){$(".modal-backdrop").remove(),url=a,url=url.replace("index.php","engine.php"),"function"==typeof Adianti.onBeforeLoad&&Adianti.onBeforeLoad(url),url.indexOf("&static=1")>0?$.get(url,function(a){__adianti_parse_html(a)}):$.get(url,function(a){__adianti_load_html(a,Adianti.onAfterLoad),history.pushState&&a.indexOf("TWindow")<0&&__adianti_register_state(url,"adianti")})}function __adianti_load_page2(a){url=a,url=url.replace("index.php","engine.php"),__adianti_load_page_no_register2(url)}function __adianti_block_ui(a){"undefined"==typeof Adianti.blockUIConter&&(Adianti.blockUIConter=0),Adianti.blockUIConter=Adianti.blockUIConter+1,"undefined"==typeof a&&(a=Adianti.waitMessage),$.blockUI({message:"<h1>"+a+"</h1>",css:{border:"none",padding:"15px",backgroundColor:"#000","border-radius":"5px 5px 5px 5px",opacity:.5,color:"#fff"}})}function __adianti_message(a,b,c){bootbox.dialog({title:a,message:'<div><img src="lib/adianti/images/info.png" border="0" style="float:left"><span display="block" style="margin-left:20px;float:left">'+b+"</span>"+"</div>",buttons:{success:{label:"OK",className:"btn-default",callback:function(){this.close(),"undefined"!=typeof c&&c()}}}})}function __adianti_question(a,b,c){bootbox.dialog({title:a,message:'<div><img src="lib/adianti/images/question.png" border="0" style="float:left"><span display="block" style="margin-left:20px;float:left">'+b+"</span>"+"</div>",buttons:{ok:{label:"OK",className:"btn-default",callback:function(){this.close(),"undefined"!=typeof c&&c()}},cancel:{label:"Cancel",className:"btn-default",callback:function(){this.close()}}}})}function __adianti_unblock_ui(){Adianti.blockUIConter=Adianti.blockUIConter-1,Adianti.blockUIConter<=0&&($.unblockUI(),Adianti.blockUIConter=0)}function __adianti_post_data(a,b){__adianti_block_ui(),b="index.php?"+b,b=b.replace("index.php","engine.php"),data=$("#"+a).serialize(),"function"==typeof Adianti.onBeforePost&&Adianti.onBeforePost(b),b.indexOf("&static=1")>0?$.post(b,data,function(a){__adianti_parse_html(a),__adianti_unblock_ui()}):$.post(b,data,function(a){__adianti_load_html(a,Adianti.onAfterPost),__adianti_unblock_ui()})}function __adianti_post_data2(a,b){b="index.php?"+b,b=b.replace("index.php","engine.php"),data=$("#"+a).serialize(),$.post(b,data,function(a){__adianti_load_html2(a),__adianti_unblock_ui()})}function __adianti_register_state(a,b){if(Adianti.registerState!==!1||"user"==b){var c={url:a};"undefined"!=typeof history.pushState&&history.pushState(c,"",a.replace("engine.php","index.php"))}}function __adianti_ajax_lookup(a,b){var c=b.value;__adianti_ajax_exec(a+"&key="+c,null,!1)}function __adianti_ajax_exec(a,b,c){c="undefined"!=typeof c?c:!0,uri="engine.php?"+a+"&static=1",$.ajax({url:uri,async:c}).done(function(a){__adianti_parse_html(a,b)}).fail(function(a){$("<div />").html(a.responseText).dialog({modal:!0,title:"Error",width:"80%",height:"auto",resizable:!0,closeOnEscape:!0,focus:!0})})}function __adianti_parse_html(a,b){tmp=a,tmp=new String(tmp.replace(/window\.opener\./g,"")),tmp=new String(tmp.replace(/window\.close\(\)\;/g,"")),tmp=new String(tmp.replace(/(\n\r|\n|\r)/gm,"")),tmp=new String(tmp.replace(/^\s+|\s+$/g,"")),$('[widget="TWindow"]').length>0&&(tmp=new String(tmp.replace(/TWindow/g,"TWindow2")));try{$("#adianti_online_content").append(tmp),b&&"function"==typeof b&&b()}catch(c){c instanceof SyntaxError&&$("<div />").html(c.message+": "+tmp).dialog({modal:!0,title:"Error",width:"80%",height:"auto",resizable:!0,closeOnEscape:!0,focus:!0})}}function __adianti_download_file(a){extension=a.split(".").pop(),screenWidth=screen.width,screenHeight=screen.height,"html"!==extension&&(screenWidth/=3,screenHeight/=3),window.open("download.php?file="+a,"_blank","width="+screenWidth+",height="+screenHeight+",top=0,left=0,status=yes,scrollbars=yes,toolbar=yes,resizable=yes,maximized=yes,menubar=yes,location=yes")}function __adianti_process_popover(){$('[popover="true"]').popover({placement:"auto top",trigger:"hover",container:"body",template:'<div class="popover" role="tooltip" style="z-index:100000;max-width:800px"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"><div class="data-content"></div></div></div>',delay:{show:10,hide:10},content:function(){return $(this).attr("popcontent")},html:!0,title:function(){return $(this).attr("poptitle")}}),$("body").on("click",function(){$(".tooltip").hide(),$(".popover").hide()})}$(function(){Adianti.blockUIConter=0,$(document.body).tooltip({selector:"[title]",placement:"right",trigger:"hover",cssClass:"tooltip",container:"body",content:function(){return $(this).attr("title")},html:!0}),$(document).on("dialogopen",function(){__adianti_process_popover()}),$.ui.dialog.prototype._focusTabbable=$.noop}),$(document).ajaxComplete(function(){__adianti_process_popover(),$('[class="thtmleditor"]').length>0&&$('[class="thtmleditor"]').cleditor()[0].disable(!1).refresh()}),$(document).on("click",'[generator="adianti"]',function(){return __adianti_load_page($(this).attr("href")),!1}),$(document).on("click",'[generator="adianti2"]',function(){return __adianti_load_page2($(this).attr("href")),!1}),window.onpopstate=function(a){a.state&&__adianti_load_page_no_register(a.state.url)};